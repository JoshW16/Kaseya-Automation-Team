<?xml version="1.0" encoding="utf-8"?>
<ScExport xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.kaseya.com/vsa/2008/12/Scripting">
  <Procedure name="Block WIndows 11" treePres="3" id="148960768" folderId="482134679789717" treeFullPath="myProcedures - kadmin.Block Win11 Upgrade">
    <Body description="This procedure makes the changes to registry on the target machine so that the windows 11 upgrade is blocked!">
      <Statement description="This procedure makes the changes to registry on the target machine so that the windows 11 upgrade is blocked!&#xD;&#xA;Kaseya Automation Team - V1.0" name="GetURL" continueOnFail="false">
        <Parameter xsi:type="StringParameter" name="URL" value="https://github.com/Kaseya-Automation-Team/Kaseya-Automation-Team/raw/main/Public/BlockWin11.reg" />
        <Parameter xsi:type="StringParameter" name="ResponseFileName" value="#vAgentConfiguration.agentTempSecureDir#/BlockWin11.reg" />
        <Parameter xsi:type="BooleanParameter" name="WaitComplete" value="True" />
      </Statement>
      <Statement name="ExecuteShellCommand" continueOnFail="false">
        <Parameter xsi:type="StringParameter" name="Command" value="Powershell.exe -NoProfile -ExecutionPolicy Bypass -command &quot;regedit /s #vAgentConfiguration.agentTempSecureDir#/BlockWin11.reg&quot;" />
        <Parameter xsi:type="EnumParameter" name="ExecuteAccount" value="System" />
        <Parameter xsi:type="BooleanParameter" name="Is64Bit" value="False" />
      </Statement>
      <Statement name="PauseScript" continueOnFail="false">
        <Parameter xsi:type="IntegerParameter" name="Seconds" value="10" />
      </Statement>
      <Statement description="cleanup" name="DeleteFile" continueOnFail="false">
        <Parameter xsi:type="StringParameter" name="Path" value="#vAgentConfiguration.agentTempSecureDir#/BlockWin11.reg" />
      </Statement>
    </Body>
  </Procedure>
</ScExport>